(window["webpackJsonpblack-swan-data-interview"]=window["webpackJsonpblack-swan-data-interview"]||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/Octocat.0ba2aa20.png"},122:function(e,t,a){e.exports=a(198)},127:function(e,t,a){},145:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(2),o=a.n(c),s=a(46),l=(a(127),a(16)),i=a(30),u=a(107);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=function(e,t){switch(t.type){case"resetState":return{};case"setUserRepos":return p({},e,{userRepos:t.payload});case"setUserData":return p({},e,{userData:t.payload});default:return e}},f=n.a.createContext(),d=a(77),h=a.n(d),E=a(108),b=a(200),v=a(199),y=a(9),O=a(201),w=a(23),j=a(48),k=a.n(j),x="https://api.github.com";function N(e){var t="".concat(x,"/users/").concat(e,"/repos?per_page=250");return k.a.get(t).then((function(e){return e.data}))}function P(e){return k.a.all([k.a.get("".concat(x,"/users/").concat(e)),k.a.get("".concat(x,"/users/").concat(e,"/orgs"))]).then((function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];return{user:a.data,orgs:r.data}}))}var S=a(55),D=a.n(S),C=a(109),U=a.n(C),B=(a(145),function(){var e=Object(r.useContext)(f).dispatch,t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),u=Object(l.a)(s,2),m=u[0],p=u[1],g=Object(r.useState)(!0),d=Object(l.a)(g,2),j=d[0],k=d[1],x=Object(r.useState)(!1),S=Object(l.a)(x,2),C=S[0],B=S[1];function z(){return(z=Object(E.a)(h.a.mark((function t(){var a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,N(m);case 4:return a=t.sent,t.next=7,P(m);case 7:r=t.sent,e({type:"setUserRepos",payload:a}),e({type:"setUserData",payload:r}),B(!0),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),b.a.error({title:"Sorry but...",content:"...an error occurred while processing your request. Did you type the right username?"}),o(!1),p("");case 18:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){m.length?k(!1):k(!0)}),[m]),n.a.createElement("section",{className:"mainPage"},C&&n.a.createElement(i.a,{to:"/info"}),n.a.createElement("img",{src:D.a,alt:"Black Swan Data logo",className:"searchPageLogo"}),n.a.createElement(v.a,{size:"large",className:"searchPageInput",placeholder:"Enter GitHub username",value:m,onChange:function(e){return p(e.target.value)},prefix:n.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:n.a.createElement(O.a,{title:"Please enter a username to see user's repos and organizations"},n.a.createElement(y.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),n.a.createElement("img",{src:U.a,alt:"GitHub logo",className:"ghLogo ".concat(j&&"greyScale")}),n.a.createElement(w.a,{className:"customButton",type:"primary",size:"large",disabled:j,loading:c,onClick:function(){return function(){return z.apply(this,arguments)}()}},"Search GitHub for me"))}),z=function(e){var t=e.orgs;return n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"User Organizations: ",t.length),n.a.createElement("div",{className:"cardContent"},t.map((function(e){return n.a.createElement("a",{href:e.url,key:e.id},n.a.createElement("img",{alt:"".concat(e.id," Organization Avatar"),src:e.avatar_url,className:"orgAvatar"}),e.login)}))))},R=function(e){var t=e.repos;return n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"User Repositories: ",t.length),n.a.createElement("div",{className:"cardContent"},t.map((function(e){return n.a.createElement("a",{href:e.clone_url,key:e.id},e.name)}))))},_=function(e){var t=e.name,a=e.company,r=e.email,c=e.followers,o=e.following,s=e.avatar_url;return n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"User Info:"),n.a.createElement("img",{src:s,alt:"User Avatar",className:"userAvatar"}),n.a.createElement("h3",null,"User name: ",t||"not set"),n.a.createElement("h3",null,"Company: ",a||"not set"),n.a.createElement("h3",null,"Email: ",r||"not set"),n.a.createElement("h3",null,"Followers: ",c),n.a.createElement("h3",null,"Following: ",o))},A=(a(197),function(){var e=Object(r.useContext)(f),t=e.store,a=e.dispatch,c=t.userRepos,o=t.userData,s=Object(r.useState)(!1),u=Object(l.a)(s,2),m=u[0],p=u[1];return n.a.createElement("div",null,m&&n.a.createElement(i.a,{to:"/"}),n.a.createElement("nav",null,n.a.createElement(w.a,{className:"customButton",type:"primary",size:"large",shape:"round",icon:"left-circle",onClick:function(){return a({type:"resetState"}),void p(!0)}},"BACK"),n.a.createElement("img",{src:D.a,alt:"Black Swan Data logo",className:"infoPageLogo"}),n.a.createElement("div",null)),n.a.createElement("main",null,o&&o.user&&n.a.createElement(_,o.user),c&&n.a.createElement(R,{repos:c}),o&&o.orgs&&n.a.createElement(z,{orgs:o.orgs})))}),G=function(){var e=Object(r.useReducer)(g,{}),t=Object(l.a)(e,2),a=t[0],c=t[1];return n.a.createElement(f.Provider,{value:{store:a,dispatch:c}},n.a.createElement("div",null,n.a.createElement(i.b,{exact:!0,path:"/",component:B}),n.a.createElement(i.b,{exact:!0,path:"/info",component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(s.a,null,n.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){e.exports=a.p+"static/media/black_swan_logo.21233f26.png"}},[[122,1,2]]]);
//# sourceMappingURL=main.02c9fcd3.chunk.js.map